---
import {
  formatDate,
  stripHtml,
  truncateWords,
  decodeHtmlEntities,
} from "@/helpers";

interface Props {
  title: string;
  date: string;
  excerpt: string;
  slug: string;
}

const { title, date, excerpt, slug } = Astro.props;

const formattedDate = formatDate(date);
const cleanTitle = decodeHtmlEntities(title);
const cleanExcerpt = truncateWords(stripHtml(excerpt), 30);
---

<div class="p-8 lg:p-12 flex flex-col justify-center">
  <p class="text-gray-400 text-sm mb-4">{formattedDate}</p>

  <h3
    class="text-3xl lg:text-4xl font-black text-white mb-4 group-hover:text-accent-gold transition-colors"
  >
    {cleanTitle}
  </h3>

  <p class="text-gray-300 text-lg mb-6 leading-relaxed">
    {cleanExcerpt}
  </p>

  <div class="flex flex-col md:flex-row gap-4 justify-start items-stretch md:items-center">
    <a
      href={`/noticia/${slug}`}
      class="btn-gold px-8 py-3 text-center rounded-lg font-bold uppercase transition-all duration-300 hover:scale-105 active:scale-95"
    >
      Leer completa
    </a>
    <a
      href="/noticias"
      class="px-8 py-3 text-center border-2 border-accent-gold text-accent-gold hover:bg-accent-gold hover:text-black rounded-lg font-bold uppercase transition-all duration-300 hover:scale-105 active:scale-95"
    >
      Ver todas
    </a>
  </div>
</div>
